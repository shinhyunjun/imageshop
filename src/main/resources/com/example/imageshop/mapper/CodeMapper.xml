<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.imageshop.mapper.CodeMapper">

    <select id="getCodeGroupList" resultType="com.example.imageshop.domain.CodeLabelValue">
        select group_code AS value, group_name AS label
        from code_group
        where use_yn ='Y'
        order by group_name
    </select>


    <!-- 지정된 그룹코드에 해당하는 코드 목록 조회-->
    <select id="getCodeList" resultType="com.example.imageshop.domain.CodeLabelValue">
		SELECT code_value AS value,
			   code_name AS label
		  FROM code_detail
		 WHERE group_code = #{groupCode}
		   AND use_yn = 'Y'
	  ORDER BY sort_seq
	</select>
</mapper>